var social_autorization=function(){return{memoryVal:null,memoryId:null,error:!1,specSimbols:{0:"|",1:"#",2:"^",3:"'",4:'"'},lang:[],createSwitch:function(){$(".plugin-users-table .blocked").each(function(){var t=$(this).parent("tr").attr("id"),i="1"==$(this).attr("active")?!0:!1;$(this).html('<div class="switch-button" id="blocker_switchForUser'+t+'"></div>'),$("#blocker_switchForUser"+t).toggles({on:i}),$("#blocker_switchForUser"+t+" .on").click(function(){social_autorization.userController("activate","",t,$(this))}),$("#blocker_switchForUser"+t+" .off").click(function(){social_autorization.memoryId=t,social_autorization.openModalWindow("blocked_user")})}),$(".plugin-users-table .combined").each(function(){var t=$(this).parent("tr").attr("id"),i="1"==$(this).attr("active")?!0:!1;$(this).html('<div class="switch-button" id="combine_switchForUser'+t+'"></div>'),$("#combine_switchForUser"+t).toggles({on:i}),$("#combine_switchForUser"+t+" .on").click(function(){social_autorization.userController("decombine","",t,$(this))}),$("#combine_switchForUser"+t+" .off").click(function(){social_autorization.userController("combine","",t,$(this))})})},clearError:function(){$('.errorField[name="blocked_reason"]').css("display","none")},clearField:function(){$('.add-tag-form-wrapper .add-tag-form input[name="blocked_reason"]').val("")},openModalWindow:function(){social_autorization.clearField(),social_autorization.clearError(),admin.openModal($(".b-modal"))},mainController:function(t,i){admin.ajaxRequest({mguniqueurl:"action/mainController",pluginHandler:"social-autorization",param:t,value:i},function(t){admin.indication(t.status,t.msg)})},mailController:function(t){admin.ajaxRequest({mguniqueurl:"action/mailController",pluginHandler:"social-autorization",message:t},function(t){admin.indication(t.status,t.msg)})},userController:function(t,i,e){admin.ajaxRequest({mguniqueurl:"action/userController",pluginHandler:"social-autorization",operator:t,additions:i,id:e},function(i){if(admin.indication(i.status,i.msg),"error"!=i.status)switch(t){case"delete":$(".plugin-users-table tr[id="+e+"]").slideUp("slow",function(){$(".plugin-users-table tr[id="+e+"]").remove(),console.log($(".plugin-users-tbody tr").length),0==$(".plugin-users-tbody tr").length&&$(".plugin-users-tbody").append('<tr><td class="u-info" colspan="6">Пока нет авторизовавшихся пользователей</td></tr>')});break;case"combine":$(".plugin-users-table tr[id="+e+"] .combined").attr("active","1");break;case"decombine":$(".plugin-users-table tr[id="+e+"] .combined").attr("active","0");break;case"activate":$(".plugin-users-table tr[id="+e+"] .blocked").attr("active","0");break;case"blocked":$(".plugin-users-table tr[id="+e+"] .blocked").attr("active","1")}})},updateController:function(t){var i=$(".admin-center .section-social-autorization .sign-service-main-setting-list #SocialLoginKey").val(),e=$(".admin-center .section-social-autorization .sign-service-main-setting-list #SocialLoginVersion").val(),n=$(".admin-center .section-social-autorization .sign-service-main-setting-list #SocialLoginPromo").val();return"update"==t&&""==i?void admin.indication("error","Ключ активации не введен"):"promo"==t&&""==n?void admin.indication("error","Промо код не введен"):void admin.ajaxRequest({mguniqueurl:"action/updateController",pluginHandler:"social-autorization",key:i,version:e,promo:n,operator:t},function(t){admin.indication(t.status,t.msg),"success"==t.status&&location.reload()})},handlerController:function(t,i,e,n){admin.ajaxRequest({mguniqueurl:"action/handlerController",pluginHandler:"social-autorization",operator:t,abbr:i,value:e},function(i){if(admin.indication(i.status,i.msg),"error"!=i.status)switch(t){case"activate":n.parent().parent().parent().addClass("active");break;case"deactivate":n.parent().parent().parent().removeClass("active")}})},getHandlerSetting:function(t){var i="";social_autorization.error=!1;var e=!0;return $(".section-social-autorization .sign-services-block ul #"+t+" .sign-service-setting-list #soc-setting").each(function(){switch(e||(i+="|"),e=!1,$(this).attr("type")){case"text":var t=$(this).children('input[type="text"]').val();if(social_autorization.check.isSpec(t,social_autorization.specSimbols))return social_autorization.error=!0,void admin.indication("error",'Строка не может содержать спец символы "|" "#" "^"');i+=t;break;case"email":var t=$(this).children('input[type="email"]').val();if(""==t)break;if(social_autorization.check.isSpec(t,social_autorization.specSimbols))return social_autorization.error=!0,void admin.indication("error",'Email не может содержать спец символы "|" "#" "^"');if(!social_autorization.check.isEmail(t))return social_autorization.error=!0,void admin.indication("error","Введена не правильная форма email");i+=t;break;case"password":var t=$(this).children('input[type="password"]').val();if(social_autorization.check.isSpec(t,social_autorization.specSimbols))return social_autorization.error=!0,void admin.indication("error",'Пароль не может содержать спец символы "|" "#" "^"');i+=t;break;case"number":var t=$(this).children('input[type="text"]').val();if(!social_autorization.check.isNumber(t))return social_autorization.error=!0,void admin.indication("error","Введите число");i+=t;break;case"info":i+=$(this).children('input[type="text"]').val();break;case"checkbox":i+=$(this).children('input[type="checkbox"]').val();break;case"select":var t="",n=!0;$(this).children("select").children("option").each(function(){n||(t+="#"),n=!1,t+=$(this).prop("selected")?$(this).attr("value")+"^":$(this).attr("value")}),i+=t;break;case"multiple":var t="",n=!0;$(this).children("select").children("option").each(function(){n||(t+="#"),n=!1,t+=$(this).prop("selected")?$(this).attr("value")+"^":$(this).attr("value")}),i+=t;break;default:return social_autorization.error=!0,void admin.indication("error","У обработчика найден неизвестный тип настройки")}}),social_autorization.error?0:i},pluginSetting:function(){$(".admin-center").on("click",".section-social-autorization .sign-service-item h3",function(){$(this).parent().hasClass("open")?($(this).parent().removeClass("open"),$(this).next().slideUp("fast")):($(".sign-service-item .sign-service-setting-list").slideUp("fast"),$(".sign-service-item .sign-service-setting-list").parent().removeClass("open"),$(this).next().slideDown("fast"),$(this).parent().addClass("open"))}),$(".admin-center").on("click",".section-social-autorization .tabs-list li a",function(){$(this).parent().hasClass("ui-state-active")||("sign-services-users"==$(this).attr("id")&&social_autorization.createSwitch(),$(".section-social-autorization .tabs-list li").removeClass("ui-state-active"),$(".section-social-autorization .plugin-pages").children().slideUp("fast"),$(this).parent().addClass("ui-state-active"),$(".section-social-autorization .plugin-pages ."+$(this).attr("id")).slideDown("fast"))})},handlerSetting:function(){$(".admin-center").on("click",'.section-social-autorization .sign-service-setting-list #def-setting input[type="checkbox"]',function(){var t=$(this).val(),i=$(this).attr("name"),e=$(this),n="false"==t?"activate":"deactivate";social_autorization.handlerController(n,i,t,e)}),$('.admin-center .section-social-autorization .sign-service-setting-list #soc-setting input[type="password"]').mouseenter(function(){$(this).attr("type","text")}),$('.admin-center .section-social-autorization .sign-service-setting-list #soc-setting input[type="password"]').mouseout(function(){$(this).attr("type","password")}),$(".admin-center").on("focus",".section-social-autorization .sign-service-setting-list #soc-setting input",function(){social_autorization.memoryVal=$(this).val()}),$(".admin-center").on("blur",".section-social-autorization .sign-service-setting-list #soc-setting input",function(){if("checkbox"!=$(this).parent().attr("type")){if(social_autorization.memoryVal!=$(this).val()){var t=$(this).attr("id"),i=social_autorization.getHandlerSetting(t);0!=i&&social_autorization.handlerController("updateSetting",t,i,$(this))}social_autorization.memoryVal=null}}),$(".admin-center").on("change",'.section-social-autorization .sign-service-setting-list #soc-setting input[type="checkbox"]',function(){var t=$(this).attr("id"),i=social_autorization.getHandlerSetting(t);0!=i&&social_autorization.handlerController("updateSetting",t,i,$(this))}),$(".admin-center").on("click",".section-social-autorization .sign-service-setting-list #instruction h4",function(){var t="block"==$(this).parent().children(".instruction-body").css("display")?!0:!1;t?($(this).parent().children(".instruction-body").slideUp("fast"),$(this).css("-webkit-border-radius","3px"),$(this).css("border-radius","3px"),$(this).text("Развернуть")):($(this).parent().children(".instruction-body").slideDown("fast"),$(this).css("-webkit-border-radius","3px 3px 0px 0px"),$(this).css("border-radius","3px 3px 0px 0px"),$(this).text("Свернуть"))}),$(".admin-center").on("change",".section-social-autorization .sign-service-setting-list #soc-setting select",function(){var t=$(this).attr("id"),i=social_autorization.getHandlerSetting(t);0!=i&&social_autorization.handlerController("updateSetting",t,i,$(this))}),$(".admin-center").on("click",".section-social-autorization .sign-service-setting-list li #startTest span",function(){var t=$(this).parent().attr("name"),i=social_autorization.getHandlerSetting(t);0!=i&&window.open(mgBaseDir+"/sociallogin?auth="+t+"&metod=location&location="+window.location.href)})},mainSetting:function(){$(".admin-center").on("click",'.section-social-autorization .sign-service-main-setting-list #read input[type="checkbox"]',function(){var t=$('.admin-center .section-social-autorization .sign-service-main-setting-list #read input[type="checkbox"]').attr("id"),i=$('.admin-center .section-social-autorization .sign-service-main-setting-list #read input[type="checkbox"]').val();i="true"==i?"false":"true",social_autorization.mainController(t,i,$(this))}),$(".admin-center").on("change",".section-social-autorization .sign-service-main-setting-list #read #socialLoginRedirect",function(){var t=$(".admin-center .section-social-autorization .sign-service-main-setting-list #read #socialLoginRedirect option:selected").attr("name");social_autorization.mainController("socialLoginRedirect",t,$(this))}),$(".admin-center").on("focus",'.section-social-autorization .sign-service-main-setting-list #read input[type="text"]',function(){social_autorization.memoryVal=$(this).val()}),$(".admin-center").on("blur",'.section-social-autorization .sign-service-main-setting-list #read input[type="text"]',function(){if(social_autorization.memoryVal!=$(this).val()){var t=$('.admin-center .section-social-autorization .sign-service-main-setting-list #read input[type="text"]').attr("id"),i=$('.admin-center .section-social-autorization .sign-service-main-setting-list #read input[type="text"]').val();social_autorization.mainController(t,i,$(this))}social_autorization.memoryVal=null}),$(".admin-center").on("click",".section-social-autorization .sign-service-main-setting-list #startUpdate p",function(){social_autorization.updateController("update")}),$(".admin-center").on("click",".section-social-autorization .sign-service-main-setting-list #startPromo p",function(){social_autorization.updateController("promo")});var t="Если вы нашли ошибку, хотите предложить что-то новенькое, добавить новый сервис авторизации, приобрести полную версию или пакет из определенных сервисов, напишите это здесь и нажмите кнопку отправить, также в сообщении укажите свои контактные данные, чтобы мы могли связаться с вами в кротчайшие сроки!. \n\nПо вопросам сотрудничества обращайтесь alexsandrshamarin@yandex.ru - Александр";$('.admin-center .section-social-autorization .sign-service-main-setting-list textarea[id="startMessageTextArea"]').val(t),$(".admin-center .section-social-autorization .sign-service-main-setting-list #startMessage p").click(function(){var i=$('.admin-center .section-social-autorization .sign-service-main-setting-list textarea[id="startMessageTextArea"]').val(),e=i.length,n=t.substring(0,e),o=t.substring(t.length-e);return""==i||i==t||i==n||o==i?void admin.indication("error","Сообщение пустое"):void social_autorization.mailController(i)})},userTableSetting:function(){$(".admin-center").on("focus",".section-social-autorization .plugin-users-table .plugin-users-tbody .email input",function(){social_autorization.memoryVal=$(this).val()}),$(".admin-center").on("blur",".section-social-autorization .plugin-users-table .plugin-users-tbody .email input",function(){if(social_autorization.memoryVal!=$(this).val()){var t=$(this).val(),i=$(this).attr("id"),e="updateEmail";social_autorization.userController(e,t,i,$(this))}social_autorization.memoryVal=null}),$(".admin-center").on("click",".section-social-autorization .add-tag-form-wrapper .custom-btn",function(){var t=$('.add-tag-form-wrapper .add-tag-form input[name="blocked_reason"]').val(),i=($(this).attr("id"),!1);t.length<1&&($('.errorField[name="blocked_reason"]').css("display","block"),i=!0),i||(social_autorization.userController("blocked",t,social_autorization.memoryId,$(this)),admin.closeModal($(".b-modal")))}),$(".admin-center").on("click",".section-social-autorization .widget-table-title .b-modal_close",function(){var t=$('.admin-center .section-social-autorization .blocked .switch-button[id="blocker_switchForUser'+social_autorization.memoryId+'"]');t.children(".slide").removeClass("active"),t.children(".slide").children(".inner").stop().animate({"margin-left":-60},500)}),$(".admin-center").on("click",".section-social-autorization .plugin-users-table .delete",function(){var t=$(this).children("a").attr("id");social_autorization.userController("delete","",t,$(this))})},newsSetting:function(){$(".admin-center .section-social-autorization .news .news-list").css("width",415)},check:{isNumber:function(t){var i=+t;return isNaN(i)?!1:!0},isEmail:function(t){return t.match(/[0-9a-z_]+@[0-9a-z_^\.]+\.[a-z]{2,3}/i)?!0:!1},isSpec:function(t,i){if("undefined"==typeof t)return!1;for(index in i)if(i.hasOwnProperty(index)&&t.indexOf(i[index])>-1)return!0;return!1}},init:function(){social_autorization.mainSetting(),social_autorization.newsSetting(),social_autorization.pluginSetting(),social_autorization.handlerSetting(),social_autorization.userTableSetting()}}}();!function(t,i,e,n){var o={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},r=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},a=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||function(t){setTimeout(t,17)},s=function(i,e){var n=t(i).css(e),o=/^-?\d+/.exec(n);return o?+o[0]:0},l=function(t){var i,e,n={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},o=document.createElement(t),r=document.createTextNode("a\na");for(e in n)o.style[e]=n[e];return o.appendChild(r),document.body.appendChild(o),i=o.scrollHeight<28,document.body.removeChild(o),i},c=.5*Math.PI,d=10*Math.log(2),u=function(t,i,e){var n=c/i,o=t*n;return Math.round(o*Math.cos(n*e))},h=function(t,i,e){return Math.round(t*d*Math.pow(2,-10*e/i+1)/i)},p=function(t,i,e,n){return 2*e/Math.PI*Math.asin((n-t)/i)},g=function(i){var e=t(this).data("enscroll"),n=this,o=e.settings,r=function(){var i=t(this).data("enscroll"),e=i.settings;i&&e.showOnHover&&(e.verticalScrolling&&t(i.verticalTrackWrapper).is(":visible")&&t(i.verticalTrackWrapper).stop().fadeTo(275,0),e.horizontalScrolling&&t(i.horizontalTrackWrapper).is(":visible")&&t(i.horizontalTrackWrapper).stop().fadeTo(275,0),i._fadeTimer=null)};e&&o.showOnHover&&(e._fadeTimer?clearTimeout(e._fadeTimer):(o.verticalScrolling&&t(e.verticalTrackWrapper).is(":visible")&&t(e.verticalTrackWrapper).stop().fadeTo(275,1),o.horizontalScrolling&&t(e.horizontalTrackWrapper).is(":visible")&&t(e.horizontalTrackWrapper).stop().fadeTo(275,1)),i!==!1&&(e._fadeTimer=setTimeout(function(){r.call(n)},1750)))},m=function(i,e){var n=t(i),o=n.data("enscroll"),r=n.scrollTop();o&&o.settings.verticalScrolling&&(n.scrollTop(r+e),o.settings.showOnHover&&g.call(i))},f=function(i,e){var n=t(i),o=n.data("enscroll"),r=n.scrollLeft();o&&o.settings.horizontalScrolling&&(n.scrollLeft(r+e),o.settings.showOnHover&&g.call(i))},v=function(i){if(1===i.which){var n,o,r,s,l,c,d,u,h,p=i.data.pane,m=t(p),f=m.data("enscroll"),v=!0,b=function(){v&&(r!==s&&(f._scrollingY||(f._scrollingY=!0,f._startY=m.scrollTop(),a(function(){z(m)})),o.style.top=r+"px",f._endY=r*h/u,s=r),a(b),f.settings.showOnHover&&g.call(p))},_=function(t){return v&&(r=t.clientY-c-l,r=Math.min(0>r?0:r,u)),!1},k=function(){return v=!1,e.body.style.cursor=d,this.style.cursor="",n.removeClass("dragging"),t(e.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),t(e).off("mouseout.enscroll.vertical"),m.on("scroll.enscroll.pane",function(t){y.call(this,t)}),!1};return n=t(f.verticalTrackWrapper).find(".enscroll-track"),o=n.children().first()[0],r=parseInt(o.style.top,10),h=p.scrollHeight-(f._scrollHeightNoPadding?t(p).height():t(p).innerHeight()),l=i.clientY-t(o).offset().top,u=n.height()-t(o).outerHeight(),c=n.offset().top,m.off("scroll.enscroll.pane"),t(e.body).on({"mousemove.enscroll.vertical":_,"mouseup.enscroll.vertical":function(t){k.call(o,t)}}),t(e).on("mouseout.enscroll.vertical",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&k.call(o,t)}),n.hasClass("dragging")||(n.addClass("dragging"),d=t(e.body).css("cursor"),this.style.cursor=e.body.style.cursor="ns-resize"),a(b),!1}},b=function(i){if(1===i.which){var n,o,r,s,l,c,d,u,h,p=i.data.pane,m=t(p),f=t(p).data("enscroll"),v=!0,b=function(){v&&(r!==s&&(f._scrollingX||(f._scrollingX=!0,f._startX=m.scrollLeft(),a(function(){z(m)})),o.style.left=r+"px",f._endX=r*l/h,s=r),a(b),f.settings.showOnHover&&g.call(p))},_=function(t){return v&&(r=t.clientX-d-c,r=Math.min(0>r?0:r,h)),!1},k=function(){return v=!1,n.removeClass("dragging"),e.body.style.cursor=u,this.style.cursor="",n.removeClass("dragging"),t(e.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),t(e).off("mouseout.enscroll.horizontal"),m.on("scroll.enscroll.pane",function(t){y.call(this,t)}),!1};return n=t(f.horizontalTrackWrapper).find(".enscroll-track"),o=n.children().first()[0],r=parseInt(o.style.left,10),l=p.scrollWidth-t(p).innerWidth(),c=i.clientX-t(o).offset().left,h=n.width()-t(o).outerWidth(),d=n.offset().left,m.off("scroll.enscroll.pane"),t(e.body).on({"mousemove.enscroll.horizontal":_,"mouseup.enscroll.horizontal":function(t){k.call(o,t)}}),t(e).on("mouseout.enscroll.horizontal",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&k.call(o,t)}),n.hasClass("dragging")||(n.addClass("dragging"),u=t("body").css("cursor"),this.style.cursor=e.body.style.cursor="ew-resize"),a(b),!1}},z=function(t){var i,e,n,o=t.data("enscroll"),r=o._duration;o._scrollingX===!0&&(i=o._endX-o._startX,0===i?o._scrollingX=!1:(e=t.scrollLeft(),n=p(o._startX,i,r,e),i>0?e>=o._endX||e<o._startX?o._scrollingX=!1:(f(t,Math.max(1,u(i,r,n))),a(function(){z(t)})):e<=o._endX||e>o._startX?o._scrollingX=!1:(f(t,Math.min(-1,u(i,r,n))),a(function(){z(t)})))),o._scrollingY===!0&&(i=o._endY-o._startY,0===i?o._scrollingY=!1:(e=t.scrollTop(),n=p(o._startY,i,r,e),i>0?e>=o._endY||e<o._startY?o._scrollingY=!1:(m(t,Math.max(1,u(i,r,n))),a(function(){z(t)})):e<=o._endY||e>o._startY?o._scrollingY=!1:(m(t,Math.min(-1,u(i,r,n))),a(function(){z(t)}))))},_=function(t,i){var e=t.data("enscroll"),n=t.scrollLeft(),o=t[0].scrollWidth-t.innerWidth();return!e.settings.horizontalScrolling||e._scrollingY?!1:(e._scrollingX||(e._scrollingX=!0,e._startX=n,e._endX=e._startX,a(function(){z(t)})),e._endX=i>0?Math.min(n+i,o):Math.max(0,n+i),0>i&&n>0||i>0&&o>n)},k=function(t,i){var e=t.data("enscroll"),n=t.scrollTop(),o=t[0].scrollHeight-(e._scrollHeightNoPadding?t.height():t.innerHeight());return!e.settings.verticalScrolling||e._scrollingX?!1:(e._scrollingY||(e._scrollingY=!0,e._startY=n,e._endY=e._startY,a(function(){z(t)})),e._endY=i>0?Math.min(n+i,o):Math.max(0,n+i),0>i&&n>0||i>0&&o>n)},$=function(i){var e,n=t(this),o=n.data("enscroll"),a=o.settings.scrollIncrement,s="deltaX"in i?-i.deltaX:"wheelDeltaX"in i?i.wheelDeltaX:0,l="deltaY"in i?-i.deltaY:"wheelDeltaY"in i?i.wheelDeltaY:"wheelDelta"in i?i.wheelDelta:0;Math.abs(s)>Math.abs(l)?(e=(s>0?-a:a)<<2,(_(n,e)||!o.settings.propagateWheelEvent)&&r(i)):(e=(l>0?-a:a)<<2,(k(n,e)||!o.settings.propagateWheelEvent)&&r(i))},y=function(){var i,e,n,o=t(this),r=o.data("enscroll");r&&(r.settings.verticalScrolling&&(e=t(r.verticalTrackWrapper).find(".enscroll-track")[0],i=e.firstChild,n=o.scrollTop()/(this.scrollHeight-(r._scrollHeightNoPadding?o.height():o.innerHeight())),n=isNaN(n)?0:n,i.style.top=n*(t(e).height()-t(i).outerHeight())+"px"),r.settings.horizontalScrolling&&(e=t(r.horizontalTrackWrapper).find(".enscroll-track")[0],i=e.firstChild,n=o.scrollLeft()/(this.scrollWidth-o.innerWidth()),n=isNaN(n)?0:n,i.style.left=n*(t(e).width()-t(i).innerWidth())+"px"))},w=function(i){var e,n=t(this),o=n.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&i.target===this&&o){switch(e=o.settings.scrollIncrement,i.keyCode){case 32:case 34:return k(n,n.height()),!1;case 33:return k(n,-n.height()),!1;case 35:return k(n,this.scrollHeight),!1;case 36:return k(n,-this.scrollHeight),!1;case 37:return _(n,-e),!1;case 38:return k(n,-e),!1;case 39:return _(n,e),!1;case 40:return k(n,e),!1}return!0}},x=function(){var i=this,n=t(i).data("enscroll").settings,o=!0,r=0,s=0,l=t(i).offset().top,c=l+t(i).outerHeight(),d=t(i).offset().left,u=d+t(i).outerWidth(),h=function(t){var i=t.pageX,e=t.pageY;r=d>i?i-d:i>u?i-u:0,s=l>e?e-l:e>c?e-c:0},p=function(){n.horizontalScrolling&&r&&f(i,parseInt(r/4,10)),n.verticalScrolling&&s&&m(i,parseInt(s/4,10)),o&&a(p)},g=function(){o=!1,t(e).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};a(p),t(e).on({"mousemove.enscroll.pane":h,"mouseup.enscroll.pane":g})},C=function(t){var i,e,o,s,l,c,d,u=this,p=function(t){i=t.touches[0].clientX,e=t.touches[0].clientY,o||(o=e===l&&i===s?n:Math.abs(l-e)>Math.abs(s-i)?"y":"x"),r(t)},g=function(){c&&("y"===o?(m(u,l-e),d=l-e,l=e):"x"===o&&(f(u,s-i),d=s-i,s=i),a(g))},v=function(){var t=0,i=Math.abs(1.5*d);this.removeEventListener("touchmove",p,!1),this.removeEventListener("touchend",v,!1),c=!1,a(function e(){var n;t===i||c||(n=h(d,i,t),isNaN(n)||0===n||(t+=1,"y"===o?m(u,n):f(u,n),a(e)))})};1===t.touches.length&&(s=t.touches[0].clientX,l=t.touches[0].clientY,c=!0,this.addEventListener("touchmove",p,!1),this.addEventListener("touchend",v,!1),a(g))},T={reposition:function(){return this.each(function(){var i,e,n,o=t(this),r=o.data("enscroll"),a=function(t,i,e){t.style.left=i+"px",t.style.top=e+"px"};r&&(n=o.position(),i=r.corner,r.settings.verticalScrolling&&(e=r.verticalTrackWrapper,a(e,"right"===r.settings.verticalScrollerSide?n.left+o.outerWidth()-t(e).width()-s(this,"border-right-width"):n.left+s(this,"border-left-width"),n.top+s(this,"border-top-width"))),r.settings.horizontalScrolling&&(e=r.horizontalTrackWrapper,a(e,n.left+s(this,"border-left-width"),n.top+o.outerHeight()-t(e).height()-s(this,"border-bottom-width"))),i&&a(i,n.left+o.outerWidth()-t(i).outerWidth()-s(this,"border-right-width"),n.top+o.outerHeight()-t(i).outerHeight()-s(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var i,e,n,o,r,a,s,l,c,d,u,h,p,g,m,f,v=t(this),b=v.data("enscroll");return b?(i=b.settings,void(v.is(":visible")?(i.verticalScrolling&&(o=b.verticalTrackWrapper,e=v.innerHeight(),r=e/this.scrollHeight,a=t(o).find(".enscroll-track")[0],c=t(o).find("."+i.scrollUpButtonClass),d=t(o).find("."+i.scrollDownButtonClass),l=i.horizontalScrolling?e-t(b.horizontalTrackWrapper).find(".enscroll-track").outerHeight():e,l-=t(a).outerHeight()-t(a).height()+c.outerHeight()+d.outerHeight(),p=a.firstChild,m=Math.max(r*l,i.minScrollbarLength),m-=t(p).outerHeight()-t(p).height(),o.style.display="none",a.style.height=l+"px",p.style.height=m+"px",1>r&&(r=v.scrollTop()/(this.scrollHeight-v.height()),p.style.top=r*(l-m)+"px",o.style.display="block")),i.horizontalScrolling&&(o=b.horizontalTrackWrapper,n=v.innerWidth(),r=n/this.scrollWidth,a=t(o).find(".enscroll-track")[0],u=t(o).find("."+i.scrollLeftButtonClass),h=t(o).find("."+i.scrollRightButtonClass),s=i.verticalScrolling?n-t(b.verticalTrackWrapper).find(".enscroll-track").outerWidth():n,s-=t(a).outerWidth()-t(a).width()+u.outerWidth()+h.outerWidth(),p=a.firstChild,g=Math.max(r*s,i.minScrollbarLength),g-=t(p).outerWidth()-t(p).width(),o.style.display="none",a.style.width=s+"px",p.style.width=g+"px",1>r&&(r=v.scrollLeft()/(this.scrollWidth-v.width()),p.style.left=r*(s-g)+"px",o.style.display="block"),b._prybar&&(f=b._prybar,this.removeChild(f),i.verticalScrolling&&(f.style.width=this.scrollWidth+t(b.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(f)))),b.corner&&(b.corner.style.display=b.verticalTrackWrapper&&b.horizontalTrackWrapper&&t(b.verticalTrackWrapper).is(":visible")&&t(b.horizontalTrackWrapper).is(":visible")?"":"none")):(i.verticalScrolling&&(b.verticalTrackWrapper.style.display="none"),i.horizontalScrolling&&(b.horizontalTrackWrapper.style.display="none"),b.corner&&(b.corner.style.display="none")))):!0})},startPolling:function(){return this.each(function(){var i,e=t(this).data("enscroll"),n=this,o=t(n),r=-1,a=-1,s=-1,l=-1,c=function(){if(e.settings.pollChanges){var t=n.scrollWidth,d=n.scrollHeight,u=o.width(),h=o.height(),p=o.offset();(e.settings.verticalScrolling&&(h!==a||d!==l)||e.settings.horizontalScrolling&&(u!==r||t!==s))&&(s=t,l=d,T.resize.call(o)),(i.left!==p.left||i.top!==p.top||u!==r||h!==a)&&(i=p,r=u,a=h,T.reposition.call(o)),setTimeout(c,350)}};e&&(e.settings.pollChanges=!0,l=n.scrollHeight,s=n.scrollWidth,i=o.offset(),c())})},stopPolling:function(){return this.each(function(){var i=t(this).data("enscroll");i&&(i.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var e,n,o=t(this),r=o.data("enscroll");r&&(T.stopPolling.call(o),n=r._mouseScrollHandler,r.settings.verticalScrolling&&(e=r.verticalTrackWrapper,t(e).remove(),e=null),r.settings.horizontalScrolling&&(e=r.horizontalTrackWrapper,t(e).remove(),e=null),r._fadeTimer&&clearTimeout(r._fadeTimer),r.corner&&t(r.corner).remove(),r._prybar&&r._prybar.parentNode&&r._prybar.parentNode===this&&t(r._prybar).remove(),this.setAttribute("style",r._style||""),r._hadTabIndex||o.removeAttr("tabindex"),o.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",n,!1),this.removeEventListener("mousewheel",n,!1),this.removeEventListener("touchstart",C,!1)):this.detachEvent&&this.detachEvent("onmousewheel",n),t(i).off("resize.enscroll.window"))})}};t.fn.enscroll=function(n){var r;return T[n]?T[n].call(this):(r=t.extend({},o,n),this.each(function(){if(r.verticalScrolling||r.horizontalScrolling){var n,o,a,c,d,u,h,p,z,S,H,W,E,L,M,X,Y,N,I=t(this),P=this,U=I.attr("style"),B=!0,F={position:"absolute","z-index":r.zIndex,margin:0,padding:0},D=function(t){$.call(P,t)},q=function(i,e){"string"==typeof e?t(i).html(e):i.appendChild(e)};if(r.verticalScrolling){o=e.createElement("div"),c=e.createElement("div"),u=e.createElement("a"),t(c).css("position","relative").addClass("enscroll-track").addClass(r.verticalTrackClass).appendTo(o),r.drawScrollButtons&&(h=e.createElement("a"),p=e.createElement("a"),t(h).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(r.scrollUpButtonClass).on("click",function(){return m(P,-r.scrollIncrement),!1}).insertBefore(c),t(p).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return m(P,r.scrollIncrement),!1}).addClass(r.scrollDownButtonClass).appendTo(o)),r.clickTrackToScroll&&t(c).on("click",function(i){i.target===this&&k(I,i.pageY>t(u).offset().top?I.height():-I.height())}),t(u).css({position:"absolute","z-index":1}).attr("href","").addClass(r.verticalHandleClass).mousedown({pane:this},v).click(function(){return!1}).appendTo(c),q(u,r.verticalHandleHTML),t(o).css(F).insertAfter(this),r.showOnHover&&t(o).css("opacity",0).on("mouseover.enscroll.vertical",function(){g.call(P,!1)}).on("mouseout.enscroll.vertical",function(){g.call(P)}),W=t(c).outerWidth(),r.addPaddingToPane&&(N="right"===r.verticalScrollerSide?{"padding-right":s(this,"padding-right")+W+"px"}:{"padding-left":s(this,"padding-left")+W+"px"},I.css(t.extend({width:I.width()-W+"px"},N)));try{X=parseInt(I.css("outline-width"),10),0!==X&&!isNaN(X)||"none"!==I.css("outline-style")||I.css("outline","none")}catch(R){I.css("outline","none")}}r.horizontalScrolling&&(n=e.createElement("div"),a=e.createElement("div"),d=e.createElement("a"),t(a).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(r.horizontalTrackClass).appendTo(n),r.drawScrollButtons&&(z=e.createElement("a"),S=e.createElement("a"),t(z).css("display","block").attr("href","").on("click",function(){return f(P,-r.scrollIncrement),!1}).addClass(r.scrollLeftButtonClass).insertBefore(a),t(S).css("display","block").attr("href","").on("click",function(){return f(P,r.scrollIncrement),!1}).addClass(r.scrollRightButtonClass).appendTo(n)),r.clickTrackToScroll&&t(a).on("click",function(i){i.target===this&&_(I,i.pageX>t(d).offset().left?I.width():-I.width())}),t(d).css({position:"absolute","z-index":1}).attr("href","").addClass(r.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},b).appendTo(a),q(d,r.horizontalHandleHTML),t(n).css(F).insertAfter(this),r.showOnHover&&t(n).css("opacity",0).on("mouseover.enscroll.horizontal",function(){g.call(P,!1)}).on("mouseout.enscroll.horizontal",function(){g.call(P)}),H=t(a).outerHeight(),r.addPaddingToPane&&I.css({height:I.height()-H+"px","padding-bottom":parseInt(I.css("padding-bottom"),10)+H+"px"}),r.verticalScrolling&&(Y=document.createElement("div"),t(Y).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),r.verticalScrolling&&r.horizontalScrolling&&r.drawCorner&&(E=e.createElement("div"),t(E).addClass(r.cornerClass).css(F).insertAfter(this)),M=I.attr("tabindex"),M||(I.attr("tabindex",0),B=!1);try{L=I.css("outline"),(!L||L.length<1)&&I.css("outline","none")}catch(R){I.css("outline","none")}I.on({"scroll.enscroll.pane":function(t){y.call(this,t)},"keydown.enscroll.pane":w,"mousedown.enscroll.pane":x}).css("overflow","hidden").data("enscroll",{settings:r,horizontalTrackWrapper:n,verticalTrackWrapper:o,corner:E,_prybar:Y,_mouseScrollHandler:D,_hadTabIndex:B,_style:U,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(r.easingDuration/16.66666,10),_scrollHeightNoPadding:l(this.nodeName)}),t(i).on("resize.enscroll.window",function(){T.reposition.call(I)}),r.showOnHover&&I.on("mouseenter.enscroll.pane",function(){g.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in i&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",D,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",D,!1),this.addEventListener("touchstart",C,!1)):this.attachEvent&&this.attachEvent("onmousewheel",D),r.pollChanges&&T.startPolling.call(I),T.resize.call(I),T.reposition.call(I)
}}))}}(jQuery,window,document),social_autorization.init();